<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Tailscale - ç®€å•å¥½ç”¨çš„ VPN ç»„ç½‘å·¥å…· | Mintisan</title>
<link rel="shortcut icon" href="https://mintisan.github.io/favicon.ico?v=1738671367748">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.3.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://mintisan.github.io/styles/main.css">
<link rel="alternate" type="application/atom+xml" title="Tailscale - ç®€å•å¥½ç”¨çš„ VPN ç»„ç½‘å·¥å…· | Mintisan - Atom Feed" href="https://mintisan.github.io/atom.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">



    <meta name="description" content="
Tailscale connects your team's devices and development environments for easy access to remote resources.

å®˜æ–¹ä»‹ç»å¦‚ä¸Šï¼Œå…¶å®å°±æ˜¯è™šæ‹Ÿ..." />
    <meta name="keywords" content="å¼€æºè½¯ä»¶,å·¥å…·ä½¿ç”¨" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.5.1/build/highlight.min.js"></script>
  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://mintisan.github.io">
  <img class="avatar" src="https://mintisan.github.io/images/avatar.png?v=1738671367748" alt="">
  </a>
  <h1 class="site-title">
    Mintisan
  </h1>
  <p class="site-description">
    On the way to be a practical idealism
  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          é¦–é¡µ
        </a>
      
    
      
        <a href="/archives" class="menu">
          å½’æ¡£
        </a>
      
    
      
        <a href="/tags" class="menu">
          æ ‡ç­¾
        </a>
      
    
      
        <a href="/post/about" class="menu">
          å…³äº
        </a>
      
    
  </div>
  <div class="social-container">
    
      
        <a href="https://github.com/mintisan" target="_blank">
          <i class="ri-github-line"></i>
        </a>
      
    
      
        <a href="https://twitter.com/fovwin" target="_blank">
          <i class="ri-twitter-line"></i>
        </a>
      
    
      
    
      
    
      
    
  </div>
</div>

        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              Tailscale - ç®€å•å¥½ç”¨çš„ VPN ç»„ç½‘å·¥å…·
            </h2>
            <div class="post-info">
              <span>
                2023-06-17
              </span>
              <span>
                7 min read
              </span>
              
                <a href="https://mintisan.github.io/tag/GUWiETLu7/" class="post-tag">
                  # å¼€æºè½¯ä»¶
                </a>
              
                <a href="https://mintisan.github.io/tag/OmJcmlrTwY/" class="post-tag">
                  # å·¥å…·ä½¿ç”¨
                </a>
              
            </div>
            
              <img class="post-feature-image" src="https://mintisan.github.io/post-images/tailscale-simple-vpn.png" alt="">
            
            <div class="post-content-wrapper">
              <div class="post-content" v-pre>
                <blockquote>
<p>Tailscale connects your team's devices and development environments for easy access to remote resources.</p>
</blockquote>
<p>å®˜æ–¹ä»‹ç»å¦‚ä¸Šï¼Œå…¶å®å°±æ˜¯è™šæ‹Ÿå±€åŸŸç½‘ç»„ç½‘ï¼Œè€Œä¸”åº•å±‚æ˜¯åŸºäº <a href="https://www.wireguard.com/">Wireguard</a> åˆ†å¸ƒå¼çš„ï¼Œç›¸æ¯”äº <a href="https://www.zerotier.com/">Zerotier</a> ä½¿ç”¨èµ·æ¥æ›´åŠ ç®€å•ï¼Œå‚è€ƒç½‘å‹çš„è¯´æ³•ï¼Œã€å¦‚æœ Zerotier æ˜¯æ‰‹åŠ¨æŒ¡çš„è¯ï¼Œé‚£ä¹ˆ Tailscale å°±æ˜¯è‡ªåŠ¨æŒ¡ã€‘ã€‚è‡ªæµ‹è”é€šå®½å¸¦å¯ä»¥åˆ°è¾¾ 50MB/s è¿˜ä¸é”™ï¼Œç§»åŠ¨è¿è¥å•† 0.5MB/s å·¦å³ï¼Œï¼Œï¼Œ</p>
<!-- more -->
<h2 id="å¥—é¤">å¥—é¤</h2>
<p>è™½ç„¶ä¸æ˜¯å¼€æºçš„ï¼Œä½†æ˜¯<a href="https://login.tailscale.com/admin/settings/billing/plans">å…è´¹æ¨¡å¼</a>å¾ˆè‰¯å¿ƒï¼Œè¶³å¤Ÿä½¿ç”¨äº†ã€‚</p>
<figure data-type="image" tabindex="1"><img src="https://user-images.githubusercontent.com/9136049/246599354-6f0778d9-ee33-4512-ae93-88a72dc55548.png" alt="image" loading="lazy"></figure>
<h2 id="windowsmacosiosandroidnas">Windows/macOS/iOS/Android/NAS</h2>
<p>å®¢æˆ·ç«¯éå¸¸é½å…¨ï¼Œå„ç§ä½ æƒ³å¾—åˆ°çš„å¹³å°éƒ½å¯ä»¥<a href="https://tailscale.com/download/">ä¸‹è½½</a>ã€‚ä¸è¿‡å¯¹äº macOS éœ€è¦<a href="https://pkgs.tailscale.com/stable/">æ‰‹åŠ¨ä¸‹è½½</a>ï¼Œå¹¶åœ¨è®¾ç½®ç”¨å…è®¸æ‰“å¼€ã€‚<br>
ã€è¿˜ä¸æ˜¯å›½å†…åŒºåŸŸä¸æä¾› AppStore ä¸æä¾›ä¸‹è½½ï¼ŒğŸ˜“ã€‘</p>
<img width="477" alt="image" src="https://user-images.githubusercontent.com/9136049/246601297-99ce8b83-7a2e-4712-8467-03fcfa27504f.png">
<h2 id="mt-3000">MT-3000</h2>
<p>åœ¨ç”¨ R4S çš„ OpenWRT æŠ˜è…¾æ—¶ã€è§ iStore OSã€‘ï¼Œæ— æ³•å®‰è£…ï¼Œçªç„¶æƒ³åˆ° MT-3000 ä¹Ÿæ˜¯åŸºäº OpenWRT ç³»ç»Ÿå¼€å‘çš„ï¼Œå¯èƒ½ä¹Ÿå¯ä»¥æ•´ã€‚</p>
<p>æ²¡æƒ³åˆ°è¿˜æœ‰æƒŠå–œï¼Œä¸»é¡µé¢éƒ½å·²ç»å¸®ä½ å¼„å¥½äº†ï¼Œéå¸¸æ–¹ä¾¿ï¼Œè™½ç„¶ä¸æ˜¯æœ€æ–°ç‰ˆæœ¬ï¼Œä½†ä¹Ÿå¯ä»¥ä½¿ç”¨ï¼ŒHappyï½ï½ï½</p>
<figure data-type="image" tabindex="2"><img src="https://user-images.githubusercontent.com/9136049/246599147-3dc366ea-e9e4-47f4-a1fd-46c965ec78de.png" alt="image" loading="lazy"></figure>
<h2 id="istore-os">iStore OS</h2>
<p>æ‰§è¡Œ <code>tailscale up</code> æ—¶é‡åˆ°å¦‚ä¸‹é”™è¯¯ï¼Œæ„Ÿè§‰åƒæ˜¯æœåŠ¡å™¨ç«¯æ²¡æœ‰ç»™åˆ°æ­£ç¡®çš„æ–‡ä»¶åï¼Œåé¢å†çœ‹å§ï¼Œç°åœ¨æœ‰ MT-3000 å…ˆé¡¶ç€å¯ä»¥ç”¨ã€‚ã€‚ã€‚</p>
<pre><code>
root@iStoreOS:~# tailscale up --accept-dns=false --advertise-routes=192.168.31.0/24
--2023-06-17 16:20:57--  https://pkgs.tailscale.com/stable/
Resolving pkgs.tailscale.com... 199.38.181.239
Connecting to pkgs.tailscale.com|199.38.181.239|:443... connected.
Unable to establish SSL connection.
Downloading Tailscale _arm64 ..
--2023-06-17 16:20:58--  https://pkgs.tailscale.com/stable/tailscale__arm64.tgz
Resolving pkgs.tailscale.com... 199.38.181.239
Connecting to pkgs.tailscale.com|199.38.181.239|:443... connected.
Unable to establish SSL connection.
gzip: invalid magic
tar: Child returned status 1
tar: Error is not recoverable: exiting now
root@iStoreOS:~# gzip
gzip: compressed data not read from terminal, use -f to force it
root@iStoreOS:~# 
</code></pre>
<h2 id="é«˜çº§åŠŸèƒ½">é«˜çº§åŠŸèƒ½</h2>
<ul>
<li>Subnet routes : å°±æ˜¯ MT-3000 ä¸­ <code>å…è®¸è¿œç¨‹è®¿é—® LAN</code>ï¼Œå°±æ˜¯å°†å…¶è®¾ç½®ä¸ºå±€åŸŸç½‘çš„ Tailscale çš„è·¯ç”±å™¨</li>
<li>Exit node ï¼š æä¾›è·³è½¬åŠŸèƒ½ï¼Œå¯ä»¥æ‹¿æ¥ç¿»å¢™ç”¨ï¼Œï¼Œï¼Œå…·ä½“å‚è€ƒ<a href="https://blog.csdn.net/sillydanny/article/details/120653504">è¿™ç¯‡</a></li>
<li><a href="https://github.com/juanfont/headscale">headscale</a> ï¼šå¼€æºæœåŠ¡å™¨å®ç°</li>
<li><code>Expiry disabled</code>ï¼šè®¾ç½®æˆæƒä¸€æ¬¡ï¼Œä¸ä¼šè¿‡æœŸï¼Œé»˜è®¤6ä¸ªæœˆéœ€è¦é‡æ–°è®¾ç½®ä¸€æ¬¡</li>
<li><a href="https://tailscale.com/kb/1223/tailscale-funnel/">tailscale Funnel</a> : å¯ä»¥å°†å†…ç½‘æ˜ å°„åˆ°å…¬ç½‘</li>
<li>ä¿®æ”¹è®¾å¤‡åç§°å•¥çš„å¦‚ä¸‹</li>
</ul>
<figure data-type="image" tabindex="3"><img src="https://user-images.githubusercontent.com/9136049/246598275-34efab38-31b2-4525-b6f6-2d15fbcfe483.png" alt="image" loading="lazy"></figure>
<ul>
<li>å…±äº«ç½‘ç»œ</li>
</ul>
<p>å¯ä»¥é€šè¿‡é‚€è¯·ç”¨æˆ·åŠ åˆ°ä½ çš„ç½‘ç»œ</p>
<figure data-type="image" tabindex="4"><img src="https://mintisan.github.io/post-images/1686998913618.png" alt="" loading="lazy"></figure>
<h3 id="iperf3-æµ‹é€Ÿ">iperf3 æµ‹é€Ÿ</h3>
<p>ä¸­å›½ç§»åŠ¨ä¸æ·±åœ³å®½å¸¦è”é€šï¼Œç§»åŠ¨ 4G çš„é€Ÿç‡è¿˜æ˜¯å·®ä¸€äº›ï¼Œå¤§æ¦‚ <code>4.86 Mbits/sec</code></p>
<p>æœåŠ¡ç«¯</p>
<pre><code>C:\Users\admin\Downloads\iperf-3.1.3-win64&gt;iperf3 -s -i 2 -p 5201
-----------------------------------------------------------
Server listening on 5201
-----------------------------------------------------------
Accepted connection from 100.102.191.33, port 45016
[  5] local 100.127.221.18 port 5201 connected to 100.102.191.33 port 45024
[ ID] Interval           Transfer     Bandwidth
[  5]   0.00-2.01   sec  1.01 MBytes  4.23 Mbits/sec
[  5]   2.01-4.01   sec   594 KBytes  2.43 Mbits/sec
[  5]   4.01-6.00   sec  1.26 MBytes  5.30 Mbits/sec
[  5]   6.00-8.00   sec  1.43 MBytes  5.98 Mbits/sec
[  5]   8.00-10.01  sec  1.50 MBytes  6.27 Mbits/sec
[  5]  10.01-10.29  sec   199 KBytes  5.77 Mbits/sec
- - - - - - - - - - - - - - - - - - - - - - - - -
[ ID] Interval           Transfer     Bandwidth
[  5]   0.00-10.29  sec  0.00 Bytes  0.00 bits/sec                  sender
[  5]   0.00-10.29  sec  5.97 MBytes  4.86 Mbits/sec                  receiver
-----------------------------------------------------------
Server listening on 5201
-----------------------------------------------------------
</code></pre>
<p>å®¢æˆ·ç«¯</p>
<pre><code>./iperf3 -c 10.0.10.15 -p 5201 -i 2 -t 10 --get-server-output

</code></pre>
<p>å¦‚ä½•æ—¶æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯éƒ½åœ¨è”é€šå®½å¸¦ï¼Œå¤§æ¦‚ <code>50.5 Mbits/sec</code> çš„é€Ÿç‡ï¼Œè¿˜è¡Œå§</p>
<pre><code>Server listening on 5201
-----------------------------------------------------------
Accepted connection from 100.102.191.33, port 38660
[  5] local 100.127.221.18 port 5201 connected to 100.102.191.33 port 38664
[ ID] Interval           Transfer     Bandwidth
[  5]   0.00-2.01   sec  11.8 MBytes  49.6 Mbits/sec
[  5]   2.01-4.01   sec  11.7 MBytes  48.9 Mbits/sec
[  5]   4.01-6.00   sec  11.9 MBytes  50.1 Mbits/sec
[  5]   6.00-8.00   sec  12.6 MBytes  53.0 Mbits/sec
[  5]   8.00-10.00  sec  12.1 MBytes  50.7 Mbits/sec
[  5]  10.00-10.03  sec   253 KBytes  76.7 Mbits/sec
- - - - - - - - - - - - - - - - - - - - - - - - -
[ ID] Interval           Transfer     Bandwidth
[  5]   0.00-10.03  sec  0.00 Bytes  0.00 bits/sec                  sender
[  5]   0.00-10.03  sec  60.4 MBytes  50.5 Mbits/sec                  receiver
-----------------------------------------------------------
Server listening on 5201
-----------------------------------------------------------
</code></pre>
<h2 id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™</h2>
<ul>
<li>https://tailscale.com/</li>
<li>https://pkgs.tailscale.com/stable/</li>
<li><a href="http://iqotom.com/?p=1873">OpenWrtå®‰è£…é…ç½®Tailscaleå®ç°å†…ç½‘ç©¿é€ï¼Œå¼‚åœ°ç»„ç½‘</a></li>
<li>https://github.com/adyanth/openwrt-tailscale-enabler</li>
<li>https://github.com/adyanth/openwrt-tailscale-enabler</li>
<li><a href="https://www.youtube.com/watch?v=pQi4DJ-9CGQ&amp;ab_channel=%E5%90%91%E5%8C%97">Tailscale å…è´¹ç»„å»ºä¸ªäººVPNï¼Œè½»æ¾å¤–ç½‘è®¿é—®æ‰€æœ‰è®¾å¤‡ï¼Œé€Ÿåº¦å¿«ã€è¶…ç®€å•ã€‚OpenWrtä¹Ÿå¯å®‰è£…Tailscaleï¼Œå†…ç½‘ç©¿é€å¦‚æ­¤ç®€å•ã€‚</a></li>
<li>https://www.wundertech.net/how-to-set-up-tailscale-on-openwrt/</li>
<li><a href="https://einverne.github.io/post/2023/03/tailscale-exit-nodes.html">Tailscale å‡ºå£èŠ‚ç‚¹åŠŸèƒ½é…ç½®æµé‡å‡ºå£</a></li>
<li><a href="https://blog.csdn.net/sillydanny/article/details/120653504">TailScale å®ç°ã€Œå‡ºå£èŠ‚ç‚¹ã€Exit Nodeï¼ˆå¯¼å‘æ‰€æœ‰æµé‡ç»è¿™å‡ºå£èŠ‚ç‚¹ï¼‰</a></li>
<li><a href="https://blog.laisky.com/p/tailscale/">è¿‘æœŸæŠ˜è…¾ tailscale çš„ä¸€äº›å¿ƒå¾—</a></li>
<li><a href="https://www.youtube.com/watch?v=W-ZhtlEdS-M&amp;ab_channel=%E5%BC%A0%E5%A4%A7%E4%B8%83">ä¸éœ€è¦ç‹¬ç«‹ipçš„å…¬ç½‘è®¿é—®ï¼ˆtailscale Funnelï¼‰|Tailscaleé«˜çº§åŠŸèƒ½ç¯‡</a></li>
</ul>
<h3 id="åŒç±»">åŒç±»</h3>
<ul>
<li><a href="https://github.com/fatedier/frp">frp</a> :A fast reverse proxy to help you expose a local server behind a NAT or firewall to the internet.</li>
<li><a href="https://www.cpolar.com/">cpolar</a> : å…¬å¼€ä¸€ä¸ªæœ¬åœ°Webç«™ç‚¹è‡³å…¬ç½‘</li>
<li><a href="https://www.zerotier.com/">zerotier</a> :ZeroTier lets you build modern, secure multi-point virtualized networks of almost any type. From robust peer-to-peer networking to multi-cloud mesh infrastructure, we enable global connectivity with the simplicity of a local network.</li>
<li><a href="https://github.com/slackhq/nebula">Nebula</a> : A scalable overlay networking tool with a focus on performance, simplicity and security</li>
<li><a href="https://github.com/gravitl/netmaker">Netmaker</a> :Netmaker makes networks with WireGuard. Netmaker automates fast, secure, and distributed virtual networks.</li>
<li><a href="https://github.com/tonarino/innernet">innernet</a> : A private network system that uses WireGuard under the hood.</li>
</ul>
<h3 id="iperf3">iperf3</h3>
<ul>
<li>https://iperf.fr/iperf-download.php</li>
<li><a href="https://zhuanlan.zhihu.com/p/546330081">Iperf3æµ‹é€Ÿæ•™ç¨‹</a></li>
</ul>
<figure data-type="image" tabindex="5"><img src="https://mintisan.github.io/post-images/1708762915618.png" alt="" loading="lazy"></figure>

              </div>
              <div class="toc-container">
                <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#%E5%A5%97%E9%A4%90">å¥—é¤</a></li>
<li><a href="#windowsmacosiosandroidnas">Windows/macOS/iOS/Android/NAS</a></li>
<li><a href="#mt-3000">MT-3000</a></li>
<li><a href="#istore-os">iStore OS</a></li>
<li><a href="#%E9%AB%98%E7%BA%A7%E5%8A%9F%E8%83%BD">é«˜çº§åŠŸèƒ½</a>
<ul>
<li><a href="#iperf3-%E6%B5%8B%E9%80%9F">iperf3 æµ‹é€Ÿ</a></li>
</ul>
</li>
<li><a href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">å‚è€ƒèµ„æ–™</a>
<ul>
<li><a href="#%E5%90%8C%E7%B1%BB">åŒç±»</a></li>
<li><a href="#iperf3">iperf3</a></li>
</ul>
</li>
</ul>
</li>
</ul>

              </div>
            </div>
          </article>
        </div>

        
          <div class="next-post">
            <div class="next">ä¸‹ä¸€ç¯‡</div>
            <a href="https://mintisan.github.io/post/mt3000-with-openclash/">
              <h3 class="post-title">
                MT3000 ç§‘å­¦ä¸Šç½‘-å®‰è£…OpenClashä¸­ç»§ä¸€ä¸ªç§‘å­¦èŠ‚ç‚¹
              </h3>
            </a>
          </div>
        

        
          
            <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

<div id="gitalk-container"></div>

<script>

  var gitalk = new Gitalk({
    clientID: '7d3b3c195f68069dfccf',
    clientSecret: 'f63c7517d3698ab600d8467477e4af8d0d661913',
    repo: 'mintisan.github.io',
    owner: 'mintisan',
    admin: ['mintisan'],
    id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
    distractionFreeMode: false  // Facebook-like distraction free mode
  })

  gitalk.render('gitalk-container')

</script>

          

          
        

        <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
  <a class="rss" href="https://mintisan.github.io/atom.xml" target="_blank">
    <i class="ri-rss-line"></i> RSS
  </a>
</div>

      </div>
    </div>

    <script>
      hljs.initHighlightingOnLoad()

      let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

      // This should probably be throttled.
      // Especially because it triggers during smooth scrolling.
      // https://lodash.com/docs/4.17.10#throttle
      // You could do like...
      // window.addEventListener("scroll", () => {
      //    _.throttle(doThatStuff, 100);
      // });
      // Only not doing it here to keep this Pen dependency-free.

      window.addEventListener("scroll", event => {
        let fromTop = window.scrollY;

        mainNavLinks.forEach((link, index) => {
          let section = document.getElementById(decodeURI(link.hash).substring(1));
          let nextSection = null
          if (mainNavLinks[index + 1]) {
            nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
          }
          if (section.offsetTop <= fromTop) {
            if (nextSection) {
              if (nextSection.offsetTop > fromTop) {
                link.classList.add("current");
              } else {
                link.classList.remove("current");    
              }
            } else {
              link.classList.add("current");
            }
          } else {
            link.classList.remove("current");
          }
        });
      });

    </script>
  </body>
</html>
